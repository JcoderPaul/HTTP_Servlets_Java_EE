****** Методы класса URLConnection в Java ******

Класс URLConnection является классом общего назначения и предназначен
для доступа к атрибутам удаленного ресурса. Как только будет установлено
соединение с удаленным сервером, класс URLConnection можно использовать
для просмотра свойств удаленного объекта, прежде чем переносить его
локально. Эти свойства или атрибуты раскрываются в спецификации сетевого
протокола HTTP и как таковые имеют смысл только для объектов типа URL,
использующих протокол HTTP.

В классе URLConnection определяется несколько методов. Некоторые из них
перечислены ниже:

int getContentLength() - возвращает длину в байтах содержимого, связанного
с ресурсом. Если длина недоступна, возвращается значение - 1.
Функция возвращает тип int.

long getContentLengthLong() - возвращает длину в байтах содержимого, связанного
с ресурсом. Если длина недоступна, возвращается значение - 1.
Функция возвращает тип long.

String getContentТype() - возвращает тип содержимого, обнаруженного в ресурсе.
Это значение поля заголовка content-type. Возвращает пустое значение null, если
тип содержимого недоступен.

long getDate() - возвращает время и дату ответа в миллисекундах, прошедших с
1 января 1970 г.

long getExpiration() - Возвращает время и дату срока действия ресурса в
миллисекундах, прошедших с 1 января 1970 г. Если дата срока действия ресурса
недоступна, возвращается нуль.

String getHeaderField(int индекс) - возвращает значение поля заголовка по
указанному индексу. (Индексы полей заголовков нумеруются, начиная с нуля).
Если значение параметра индекс превышает количество полей, то возвращается
пустое значение null.

String getHeaderField(String имя_поля) - возвращает значение поля заголовка
по-указанному имя_поля. Если указанное поле не найдено, то возвращается пустое
значение null.

String getHeaderFieldKey(int индекс) - возвращает ключ поля заголовка по
указанному индексу. (Индексы полей заголовков нумеруются, начиная с нуля.)
Если значение параметра индекс превышает количество полей, то возвращается
пустое значение null.

Мap<String , List<String>> getHeaderFields() - возвращает отображение,
содержащее все поля заголовков вместе с их значениями.

long getLastModified() - Возвращает время и дату последней модификации ресурса
в миллисекундах, прошедших с 1 января 1970 г. Если эта информация недоступна,
то возвращается нуль.

InputStream getInputStream() thorws IOException - возвращает поток ввода типа
InputStream, привязанный к ресурсу. Этот поток ввода может использоваться для
получения содержимого ресурса.

В классе URLConnection определяется несколько методов, управляющих информацией
из заголовков. Заголовок состоит из пар ключей и значений, представленных в виде
символьных строк.

Используя метод getHeaderField(), можно получить значение, связанное с ключом
заголовка. Вызывая метод getHeaderFields(), можно получить отображение, содержащее
все заголовки. Несколько стандартных полей заголовков доступны непосредственно
через такие методы, как getDate() и getContentType().

В следующем примере создается объект типа URLConnection с помощью метода
openConnection(), вызываемого для объекта типа URL, а затем он применяется
для проверки свойств и содержимого документа:

*******************************************************************************************
import java.net.*;
import java.io.*;
import java.util.Date;

public class URLConnectionExample {

	public static void main(String[] args) throws Exception{
		int c;
		URL myUrl = new URL("http://www.yandex.ru");
		URLConnection myUrlCon = myUrl.openConnection();

		// Получить дату
		long d = myUrlCon.getDate();
		if(d == 0)
			System.out.println("Сведения о дате отсутствуют.");
		else
			System.out.println("Дата: " + new Date(d));

		// Получить тип содержимого
		System.out.println("Типа содержимого: "
                                   + myUrlCon.getContentType());

		// Получить дату срока действия ресурса
		d = myUrlCon.getExpiration();
		if(d == 0)
			System.out.println("Сведения о сроке действия
                                            отсутствуют.");
		else
			System.out.println("Срок действия истекает: "
                                            + new Date(d));

		// Получить дату последней модификации
		d = myUrlCon.getLastModified();
		if(d == 0)
			System.out.println("Сведения о дате последней
                                             модификации отсутствуют.");
		else
			System.out.println("Дата последней модификации: "
                                             + new Date(d));

		// Получить длину содержимого
		long length = myUrlCon.getContentLengthLong();
		if(length == -1)
			System.out.println("Длина содержимого недоступна");
		else
			System.out.println("Длина содержимого: " + length);

		if(length != 0) {
			System.out.println("=== Содержимое ===");
			InputStream input = myUrlCon.getInputStream();
			while(((c = input.read()) != -1)) {
				System.out.print((char) c);
			}
			input.close();
		} else {
			System.out.println("Содержимое недоступно.");
		}
	}
}
*******************************************************************************************

В этой программе сначала устанавливается соединение по протоколу с сервером yandex.ru через
HTTP порт - 80. Затем в нем выводятся несколько значений из заголовков и извлекается содержимое.
Ради интереса можно выполнить эту программу в режиме дебага, наблюдая результаты ее выполнения.